<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="'Редактировать: ' + ${project.title}">COORDIS — Редактировать проект</title>
    <link rel="stylesheet" th:href="@{/static/css/style.css}">
</head>
<body>
<header>
    <a href="/home" class="logo">COORDIS</a>
    <div th:if="${email != null}" class="auth-buttons nav-right">
        <a href="/projects">← Назад к проектам</a>
    </div>
</header>

<main style="text-align: left; max-width: 600px; margin: 2rem auto;">
    <h2>Редактировать проект</h2>

    <form th:action="@{/projects/{id}/edit(id=${project.id})}" method="post">
        <div class="form-group">
            <label for="title">Название проекта:</label>
            <input type="text" id="title" name="title"
                   th:value="${project.title}" required>
        </div>

        <div class="form-group">
            <label for="description">Описание:</label>
            <textarea id="description" name="description" rows="4"
                      th:text="${project.description}"></textarea>
        </div>

        <div class="form-group">
            <label for="deadLine">Дедлайн:</label>
            <input type="date" id="deadLine" name="deadLine"
                   th:value="${#temporals.format(project.deadLine, 'yyyy-MM-dd')}">
        </div>

        <div class="form-group">
            <label>Создатель:</label>
            <p th:text="${project.projectCreator != null ? project.projectCreator.name : 'Пользователь удалён'}"></p>
        </div>

        <div class="form-actions">
            <button type="submit" class="cta-button">Сохранить изменения</button>
            <a th:href="@{/projects/{id}(id=${project.id})}"  class="cta-button">Отмена</a>
        </div>
    </form>
</main>
</body>
</html>